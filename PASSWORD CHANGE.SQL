DECLARE
	V_COUNT NUMBER;
	V_PASS VARCHAR2(20);
BEGIN
	SELECT COUNT(*) INTO V_COUNT FROM USERINFO
	WHERE USERID = :USER_ID AND UPPER(USERANAME) = UPPER(:USERNAM);
	IF V_COUNT = 1 THEN
		SELECT PASS INTO V_PASS FROM USERINFO
		WHERE USERID = :USER_ID AND UPPER(USERANAME) = UPPER(:USERNAME);
		IF V_PASS = :OPASS THEN
			IF V_PASS = :NPASS THEN
				:MESS := 'NEW PASSORD AND OLD PASSWORD IS SAME';
				MESSAGE('NEW PASSORD AND OLD PASSWORD IS SAME');
				MESSAGE('NEW PASSORD AND OLD PASSWORD IS SAME');
			ELSE
				IF :NPASS = :CPASS THEN
					:MESS := 'PASSWORD CHANGE SUCCESSFULLY!!';
					MESSAGE('PASSWORD CHANGE SUCCESSFULLY!!');
					MESSAGE('PASSWORD CHANGE SUCCESSFULLY!!');
					UPDATE USERINFO SET PASS = :CPASS 
					WHERE USERID = :USER_ID AND UPPER(USERANAME) = UPPER(:USERNAME);				
				ELSE 
					:MESS :='CONFIRM PASSWORD IS NOT CORRECT BOSS!!';
					MESSAGE('CONFIRM PASSWORD IS NOT CORRECT BOSS!!');
					MESSAGE('CONFIRM PASSWORD IS NOT CORRECT BOSS!!');
				END IF;
			END IF;
		ELSE
			:MESS := 'THE GIVEN OLD PASSWORD IS NOT MATDCH WITH THE ACTUAL OLD PASSWORD';
			MESSAGE('THE GIVEN OLD PASSWORD IS NOT MATDCH WITH THE ACTUAL OLD PASSWORD');
			MESSAGE('THE GIVEN OLD PASSWORD IS NOT MATDCH WITH THE ACTUAL OLD PASSWORD');
		END IF;
	ELSE
		:MESS := 'INVALIDE USERNAME';
		MESSAGE('INVALIDE USERNAME');
		MESSAGE('INVALIDE USERNAME');
	END IF;
END;
/



